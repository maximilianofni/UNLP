Object subclass: #Library	instanceVariableNames: 'documents'	classVariableNames: ''	poolDictionaries: ''	category: 'OO1-Redictado-BibliotecaDigital'!!Library methodsFor: 'public' stamp: 'ArturoZambrano 7/3/2018 12:32'!addDocument: aDoc  documents add:aDoc! !!Library methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 7/5/2018 12:02'!checkGlobalConsistency	^ documents inject: true into: [ :consistent :document | consistent & document checkDatesConsistency ]! !!Library methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 7/3/2018 13:07'!availableContentsFor: aDocument	^ (aDocument references select: [ :ref | ref hasLocalDocument ]) collect: [ :ref | ref  document content ]! !!Library methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 7/3/2018 13:27'!highRankingDocuments: count	^ (documents asSortedCollection: [ :d1 :d2 | d1 points > d2 points ]) first: count! !!Library methodsFor: 'initialize' stamp: 'ArturoZambrano 7/3/2018 12:32'!initialize	documents := OrderedCollection new! !Object subclass: #LibraryElement	instanceVariableNames: 'authors title year'	classVariableNames: ''	poolDictionaries: ''	category: 'OO1-Redictado-BibliotecaDigital'!!LibraryElement methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:01'!title	^ title! !!LibraryElement methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:01'!year: anObject	year := anObject! !!LibraryElement methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:01'!authors	^ authors! !!LibraryElement methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:01'!title: anObject	title := anObject! !!LibraryElement methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:01'!year	^ year! !!LibraryElement methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:01'!authors: anObject	authors := anObject! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LibraryElement class	instanceVariableNames: ''!!LibraryElement class methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 7/3/2018 12:34'!titled: titleString authors: authorsCollection year: aNumber	^self new		title: titleString;		authors: authorsCollection;		year: aNumber;		yourself! !LibraryElement subclass: #Document	instanceVariableNames: 'references content'	classVariableNames: ''	poolDictionaries: ''	category: 'OO1-Redictado-BibliotecaDigital'!!Document methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:07'!content	^ content! !!Document methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:07'!references	^ references! !!Document methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 11:46'!points ^self subclassResponsibility ! !!Document methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:07'!content: anObject	content := anObject! !!Document methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 12:07'!references: anObject	references := anObject! !!Document methodsFor: 'actions' stamp: 'ArturoZambrano 7/5/2018 11:39'!checkDatesConsistency	^ references inject: true into: [ :isConsistent :reference | reference year <= year & isConsistent ]! !!Document methodsFor: 'actions' stamp: 'ArturoZambrano 7/3/2018 13:08'!addToBooks:books! !!Document methodsFor: 'actions' stamp: 'ArturoZambrano 7/3/2018 13:08'!addToArticles:articles  ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Document class	instanceVariableNames: ''!!Document class methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 7/3/2018 12:41'!titled: titleString authors: authorsCollection year: aNumber content: aFilename references: aReferenceCollection	^ (self titled: titleString authors: authorsCollection year: aNumber)		content: aFilename;		references: aReferenceCollection;		yourself! !Document subclass: #Article	instanceVariableNames: 'impact'	classVariableNames: ''	poolDictionaries: ''	category: 'OO1-Redictado-BibliotecaDigital'!!Article methodsFor: 'accessing' stamp: 'ArturoZambrano 7/5/2018 11:56'!impact	^ impact! !!Article methodsFor: 'accessing' stamp: 'ArturoZambrano 7/5/2018 11:56'!impact: anObject	impact := anObject! !!Article methodsFor: 'accessing' stamp: 'ArturoZambrano 7/3/2018 11:46'!points  ^impact * 0.2! !!Article methodsFor: 'adding' stamp: 'ArturoZambrano 7/3/2018 13:09'!addToArticles: articles	articles add: self! !Document subclass: #Book	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'OO1-Redictado-BibliotecaDigital'!!Book methodsFor: 'adding' stamp: 'ArturoZambrano 7/3/2018 13:09'!addToBooks: books	books add: self! !!Book methodsFor: 'points' stamp: 'ArturoZambrano 7/5/2018 11:58'!points	^ 10 + authors size! !LibraryElement subclass: #Reference	instanceVariableNames: 'localDocument'	classVariableNames: ''	poolDictionaries: ''	category: 'OO1-Redictado-BibliotecaDigital'!!Reference methodsFor: 'testing' stamp: 'ArturoZambrano 7/3/2018 13:00'!localDocument: aDocument	localDocument := aDocument! !!Reference methodsFor: 'testing' stamp: 'ArturoZambrano 7/3/2018 12:16'!hasLocalDocument	^ localDocument  isNotNil! !!Reference methodsFor: 'testing' stamp: 'ArturoZambrano 7/3/2018 12:16'!document	^ localDocument ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Reference class	instanceVariableNames: ''!!Reference class methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 7/3/2018 13:00'!titled: titleString authors: authorsCollection year: aNumber localDocument: doc  ^(super titled: titleString authors: authorsCollection year: aNumber) localDocument:doc; yourself ! !